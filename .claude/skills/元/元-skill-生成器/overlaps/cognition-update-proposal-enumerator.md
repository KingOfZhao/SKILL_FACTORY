# 认知更新提案（skill-generator 自我精炼）

## 生成时间
2026-02-26

## 本次生成对象
**infinite-physical-practice-enumerator** (无限物理实践/Skill树穷举器)

---

## 新增结构化认知

### 1. 元认知模式

| 模式名称 | 描述 | 适用场景 |
|---------|------|---------|
| 无限树状穷举 | 横向（同层变体）+ 纵向（深度递进）的树状结构 | 任何需要无限扩展的场景 |
| 上下文满额保存 | 自动检测上下文阈值，保存节点供下次继续 | 长对话、大项目场景 |
| 双模式选择 | 首次运行强制询问模式，后续自动识别 | 一个 Skill 支持多个独立场景 |

### 2. 双模式体系（新增）

```
模式 1: 物理实践穷举
  重点: 真实世界可动手、可观察的行动、实验、流程
  Checkpoint: enumeration_checkpoint_physical.json
  输出: 实践列表（步骤 + 观察 + 耗时/成本）

模式 2: 最小 Skill 树实践穷举
  重点: Skill 体系的最小化、拆分树、单一职责
  Checkpoint: enumeration_checkpoint_skilltree.json
  输出: Skill 列表（职责 + 输入/输出 + 依赖 + 验证）
```

**适用场景**：任何需要支持多种独立工作模式的 Skill

### 3. Checkpoint 模式（可复用）

```yaml
文件分离:
  原因: 避免不同模式的数据混淆
  实现: 不同模式使用不同文件名

  示例:
    物理: enumeration_checkpoint_physical.json
    Skill树: enumeration_checkpoint_skilltree.json

Checkpoint 格式:
  mode: "physical" | "skilltree"
  problem: 用户原始问题
  current_node: "level-N.branch-M"
  enumerated_so_far: [...]  # 已穷举的实践列表
  next_pending_branches: [...]
  timestamp: ISO8601

保存触发条件:
  - 上下文剩余 < 30%
  - Token 数量 > 140k
  - 用户明确要求保存

保存后回复:
  "节点已保存到 [文件路径]，下次输入任意内容即可继续。"
```

**适用场景**：任何需要断点续传的长时间任务

### 4. 树状穷举结构（可复用）

```
问题根节点
  ├─ 横向扩展（同层多种变体）
  │    ├── 变体 1
  │    ├── 变体 2
  │    └── 变体 N
  └─ 纵向深入（基础 → 进阶 → 极端）
       ├── Level 1: 基础层
       ├── Level 2: 进阶层
       └── Level 3+: 极端/边缘层
```

**适用场景**：任何需要系统化穷举的场景（实践、方案、选项等）

### 5. 10分钟验证模式（可复用）

```yaml
验证步骤（总耗时 ≤ 10 分钟）:
  1. 查看文件:
      时间: < 10秒
      操作: 打开项目文件夹，查看 checkpoint 文件

  2. 阅读列表:
      时间: 3 分钟
      操作: 阅读本次输出的实践/Skill 列表

  3. 任选验证:
      时间: 5 分钟
      操作: 选择 1 个实践/Skill，按步骤尝试

  4. 对比判断:
      时间: < 1 分钟
      操作: 对比输出描述与实际结果

成功标志:
  - checkpoint 文件已更新
  - 至少 1 个实践/Skill 可立即动手验证
```

**适用场景**：任何需要快速验证的 Skill 输出

### 6. 模式选择询问模板（可复用）

```
请先明确你要穷举的模式（回复数字或关键词即可）：

1. [模式1名称]
   → [模式1描述]

2. [模式2名称]
   → [模式2描述]

请输入 1 或 2（或对应关键词）。
```

**交互规则**：
- 首次运行或 checkpoint 缺失时 → 强制询问
- 已有 checkpoint 且类型匹配 → 跳过询问，直接继续
- 用户输入其他内容 → 重复询问一次

**适用场景**：任何支持多模式的 Skill

### 7. 输出边界控制（可复用）

```yaml
每轮输出数: 5-15 个项目
树状深度: 建议不超过 5 层
上下文阈值: 剩余 < 30% 触发保存
Token 限制: > 140k 触发保存
```

---

## 对底层约定的潜在影响

### 无需修改项
- `underlying-convention.md` 已覆盖核心规则
- 新增模式与现有约定兼容

### 可选增强建议（需人工确认）

1. **Checkpoint 标准**：建议定义通用的 checkpoint JSON Schema

2. **模式切换协议**：建议定义模式切换的标准流程

3. **上下文检测 API**：建议标准化上下文剩余量的检测方式

---

## 认知积累状态

| 类别 | 数量 | 说明 |
|-----|------|------|
| 元认知模式 | 3 | 无限树状穷举、上下文保存、双模式选择 |
| 双模式体系 | 2 | 物理实践、最小 Skill 树 |
| Checkpoint 模式 | 3 | 文件分离、格式规范、触发条件 |
| 树状结构 | 1 | 横向变体 + 纵向深度 |
| 验证模式 | 1 | 10分钟快速验证 |
| 模式选择模板 | 1 | 强制询问 + 自动识别 |
| 边界控制 | 4 | 输出数、深度、阈值、限制 |

---

## Skill 模式扩展图谱

```
                infinite-physical-practice-enumerator
                          |
            +-------------+-------------+
            |                           |
      模式 1: 物理实践         模式 2: 最小 Skill 树
            |                           |
    enumeration_checkpoint_      enumeration_checkpoint_
       physical.json              skilltree.json
            |                           |
      实践列表                    Skill 列表
            |                           |
    可动手验证                  可构建验证
```

---

## 后续行动建议

### 短期（本次生成后）
- [ ] 人工审查本次生成的 infinite-physical-practice-enumerator
- [ ] 测试模式选择功能
- [ ] 验证 checkpoint 保存/加载
- [ ] 测试 10 分钟验证流程

### 中期（多次使用后）
- [ ] 实现更多模式（如代码示例模式）
- [ ] 增强树状结构的可视化
- [ ] 添加实践/Skill 的搜索功能
- [ ] 支持导入/导出 checkpoint

### 长期（持续迭代）
- [ ] 建立实践/Skill 知识库
- [ ] 实现跨模式的推荐系统
- [ ] 支持多人协作（共享 checkpoint）
- [ ] 构建实践/Skill 评分体系
